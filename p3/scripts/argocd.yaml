---

apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: playground-argocd
  namespace: argocd
spec:
  project: default
  source:
    repoURL: https://github.com/mikhayil-arzumanyan/Inception-of-Things_IoT/tree/master/p3
    targetRevision: HEAD
    path: app
  destination:
    server: https://kubernetes.default.svc
    namespace: dev
  syncPolicy:
    automated:
      selfHeal: true
      prune: true

---

# Предоставленная конфигурация YAML предназначена для приложения Argo CD. Argo CD — это декларативный инструмент непрерывной доставки GitOps для Kubernetes, который помогает автоматизировать развертывание приложений и управление ими в кластере Kubernetes. Вот разбивка конфигурации:

# apiVersion и kind: эти поля определяют тип создаваемого вами ресурса Kubernetes, который является приложением Argo CD.

# metadata: этот раздел содержит метаданные о приложении Argo CD, включая его имя и пространство имен, в котором оно должно быть создано.

# spec: В этом разделе определяются конкретные детали приложения Argo CD.

# project: указывает проект, к которому принадлежит это приложение. В данном случае это проект «по умолчанию».

# source: Описывает, где находится исходный код приложения.

# repoURL: указывает URL-адрес репозитория Git, из которого будет получено приложение. В данном случае это « https://github.com/mikhayil-arzumanyan/Inception-of-Things_IoT/tree/master/p3 ».

# targetRevision: определяет используемую ветку или версию Git. Для него установлено значение «HEAD», что указывает на последнюю фиксацию в репозитории.

# path: указывает путь в репозитории, где расположены манифесты приложения.

# destination: указывает, где приложение должно быть развернуто в целевом кластере Kubernetes.

# server: указывает URL-адрес сервера Kubernetes, на котором будет развернуто приложение.

# namespace: указывает пространство имен в кластере Kubernetes, где будет развернуто приложение. В данном случае это «разработчик».

# syncPolicy: определяет политику синхронизации для приложения.

# automated: Указывает, что процесс синхронизации должен быть автоматизирован.

# selfHeal: Если установлено значение «true», Argo CD попытается выполнить самовосстановление приложения, если есть какие-либо несоответствия между заявленным желаемым состоянием и фактическим состоянием в кластере.

# prune: если установлено значение «true», Argo CD удалит ресурсы в кластере, которые не объявлены в манифестах приложения.

# Эта конфигурация приложения Argo CD определяет, как развернуть приложение из репозитория Git в кластер Kubernetes, и определяет желаемое поведение синхронизации.

